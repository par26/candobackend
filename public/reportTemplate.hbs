<html>
    <head>
        <meta charset="utf-8" />
        <title>
            Report
        </title>
        <style>
            body { font-family: Arial, sans-serif; } table { border-collapse:
            collapse; width: 100%; } th, td { border: 1px solid black; padding:
            8px; text-align: left; } th { background-color: #f2f2f2; }
        </style>

        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>

    <script>
         document.addEventListener('DOMContentLoaded', (event) => {
    const ctx = document.getElementById('tagBarGraph').getContext('2d');
    const chartData = {{{data}}};
    const chartLabel = {{{labels}}};
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: chartLabel,
        datasets: [{
          label: '# of Occurences',
          data: chartData,
          borderWidth: 1
        }]
      }
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    })
    });
    </script>

    <body>
        <h1>
            Report
        </h1>
        <h2>
            Company Info
        </h2>

        <table>
            <thead>
                <tr>
                    <th>
                        Company
                    </th>
                    {{#if showTags}}
                        <th>
                            Tags
                        </th>
                    {{/if}}
                    {{#if showDescription}}
                        <th>
                            Description
                        </th>
                    {{/if}}
                    {{#if showLocation}}
                    <th>Location</th>
                    {{/if}}
                </tr>
            </thead>
            <tbody>
                {{#companies}}
                    <tr>
                        <td>
                            {{name}}
                        </td>
                        {{#if ../showTags}}
                            <td>
                                {{type}}
                            </td>
                        {{/if}}
                        {{#if ../showDescription}}
                            <td>
                                {{description}}
                            </td>
                        {{/if}}
                        {{#if ../showLocation}}
                        <td>{{location}}</td>
                        {{/if}}
                    </tr>
                {{/companies}}
            </tbody>
        </table>

        <h2>
            Company Contacts
        </h2>
        <table>
            <thead>
                <tr>
                    <th>
                        Company
                    </th>
                    {{#if showEmail}}
                        <th>
                            Email
                        </th>
                    {{/if}}
                    {{#if showPhoneNumber}}
                        <th>
                            Phone Number
                        </th>
                    {{/if}}
                    {{#if showResources}}
                        <th>
                            Resources
                        </th>
                    {{/if}}
                </tr>
            </thead>
            <tbody>
                {{#companies}}
                    <tr>
                        <td>
                            {{name}}
                        </td>
                        {{#if ../showEmail}}
                            <td>
                                {{email}}
                            </td>
                        {{/if}}
                        {{#if ../showPhoneNumber}}
                            <td>
                                {{phoneNumber}}
                            </td>
                        {{/if}}
                        {{#if ../showResources}}
                            <td>
                                {{#resources}}
                                <div>
                                    <a href="{{link}}">
                                        {{name}}
                                    </a>
                                </div>
                                {{/resources}}
                            </td>
                        {{/if}}
                    </tr>
                {{/companies}}
            </tbody>
        </table>

        <div>
            <canvas id="tagBarGraph"></canvas>
        </div>
    </body>
</html>